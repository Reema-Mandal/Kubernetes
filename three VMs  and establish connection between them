CREATE THREE INSTANCES --- WITH UBUNTU 22.04 VERSION -- T2.MEDIUM FOR MASTER INSTANCE --- T2.MICRO FOR TWO WORKER INSTANCES----
TWO INSTANCES WILL BE 1 CPU CORE,2GB RAM--- THE MASTER INSTANCE WILL BE 2 CPU CORE, 2GB RAM---
PUT ALL THE THREE INSTANCES IN THE SAME ZONE-- SAME KEY-- SAME SECURITY GROUP (CREATE A NEW ONE )---STORAGE -- 12 
CONNECT THE THREE INSTANCES IN THE TERMINAL
 ##########################################################################################################################

FOR MASTER NODE :
ubuntu@master:~$ sudo su -
root@master:~# hostnamectl set-hostname master.example.com
root@master:~# bash
ip a s 
vim /etc/hosts
a new terminal will appear where we have to paste the ips and hostnames of the three vms or instances
add all the required ports in the security groups -- inbound rules -- and then ping "paste the ip"
TCP	Inbound	6443
TCP	Inbound	2379-2380
TCP	Inbound	10250
TCP	Inbound	10259
TCP	Inbound	10257
TCP	Inbound	10256
TCP	Inbound	30000-32767
UDP	Inbound	30000-32767
All ICMP
ping and paste the ip
 apt update -y
    apt install containerd -y
    systemctl start containerd
    systemctl enable containerd
    sudo modprobe overlay
    sudo modprobe br_netfilter
    cat > /etc/modules-load.d/kubernetes.conf << EOF
 br_netfilter
ip_vs
ip_vs_rr
ip_vs_wrr
ip_vs_sh
overlay
EOF
 

cat > /etc/sysctl.d/kubernetes.conf << EOF
net.ipv4.ip_forward = 1
net.bridge.bridge-nf-call-ip6tables = 1
net.bridge.bridge-nf-call-iptables = 1
EOF

   sysctl --system
   mkdir -p /etc/containerd
   containerd config default | sudo tee /etc/containerd/config.toml
   vim /etc/containerd/config.toml
AFTER THIS LINE A NEW SCREEN WILL APPEAR WHERE WE HAVE TO PRESS " se nu!" AND CHANGE LINE NO.139 FROM FALSE TO TRUE AND THEN esape:wq! enter
   systemctl restart containerd
   sudo apt-get update
   sudo apt-get install -y apt-transport-https ca-certificates curl gpg
   curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.32/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg
   
echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.32/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list
   
   sudo apt-get update
   sudo apt-get install -y kubelet kubeadm kubectl
   sudo systemctl enable --now kubelet
   kubeadm config images pull
 kubeadm init // only for master 
/// kubeadm join 172.31.6.18:6443 --token na4e56.hfmogrixf0oav8wd \
        --discovery-token-ca-cert-hash sha256:08d94b8ff7b44d2001cf3b130f1e3967bf2c016f33c0dd4a480bdefc33510051//// this will appear in the 
master node which is to be pasted in the other two terminals//////
 ///mkdir -p $HOME/.kube
  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
  sudo chown $(id -u):$(id -g) $HOME/.kube/config/// only for master node
    

Configure Pod Network
#################
curl https://raw.githubusercontent.com/projectcalico/calico/v3.29.2/manifests/calico.yaml -O
kubectl apply -f calico.yaml
kubectl get node 
################
  kubectl get node -o wide
  kubectl get pod
  kubectl get ns
  kubectl get pod -n kube-system
  kubectl get pod -n kube-public
  kubectl get pod -n kube-node-lease
  mkdir /k8s-code
  cd /k8s-code
  vim my-pod.yaml
// search qubernetes pods and paste the first code //
  kubectl apply -f my-pod.yaml
  kubectl get pod -n default 
 if status is not in runing stage then Configure Pod Network again
 then write --   kubectl get pod -n default 
